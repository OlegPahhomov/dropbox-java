<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Simple file uploader</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/3.0.2/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="libs/microtemplate/microtemplating.js"></script>
    <link rel="stylesheet" href="libs/lightbox2/css/lightbox.css">

    <!-- my stuff -->
    <script src="js/load-files.js"></script>
    <link rel="stylesheet" type="text/css" href="css/files.css">
    <link rel="stylesheet" type="text/css" href="css/upload-form.css">
</head>
<body>
<div id="content">

    <!--List files-->
    <!--List files-->
    <!--List files-->
    <div id="show_files">Loading...</div>
    <script>fileLoader.load();</script>
    <script type="text/html" id="show_files_template">
        <div class="heading"><h3>List Of Files</h3></div>
        <div class="file-container">
            <% for ( var i = 0; i < files.length; i++ ) { %>
            <div class="<%=getRatioClass(files[i]) %>">
                <a href="http://localhost:4567/picture/<%= files[i].id %>"
                   data-lightbox="images"
                   data-title="<%=files[i].name %>">

                    <img title="<%=files[i].name %>" src="http://localhost:4567/picture/<%= files[i].id %>">
                </a>


                <form method="post" action="http://localhost:4567/remove/<%= files[i].id %>">
                    <button type="submit" class="close" title="Delete file">&times;</button>
                </form>
            </div>
            <% } %>
        </div>
    </script>


    <!-- upload form-->
    <!-- upload form-->
    <!-- upload form-->
    <form method="post" enctype="multipart/form-data" action="http://localhost:4567/add">
        <div class="heading">
            <h3>Upload new file</h3>
        </div>
        <div class="upload-block">
            <div class="upload-block__item upload-block__item--big">
                <input name="name" type="text" placeholder="Enter file name" class="upload-block__item--big"
                       id="textinput"
                       required/>
            </div>
            <div class="upload-block__item upload-block__item--big">
                <input name="file" type="file" class="inherit-width upload-item-input" id="fileinput"
                       style="height:100%; width:100%" required/>
            </div>
            <div class="upload-block__item">
                <input type="submit" class="inherit-width" value="Add file">
            </div>
        </div>
    </form>
</div>

<script src="libs/lightbox2/js/lightbox.js"></script>
</body>
</html>